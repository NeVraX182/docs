<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc maxdepth="3"?>
<?asciidoc-numbered?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Exemple de STS webMethods </title>
<subtitle>Nom de l&#8217;application</subtitle>
<date>2018-07-25</date>
<author>
<personname>
<firstname>Version 1.18-SNAPSHOT du 2018-08-16</firstname>
</personname>
</author>
<authorinitials>V</authorinitials>
</info>
<table frame="all" rowsep="1" colsep="1">
<title>Historique</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="12.5*"/>
<colspec colname="col_2" colwidth="12.5*"/>
<colspec colname="col_3" colwidth="75*"/>
<thead>
<row>
<entry align="center" valign="top">Date</entry>
<entry align="center" valign="top">Auteur</entry>
<entry align="left" valign="top">Détail
Unresolved directive in subdocs/_init-fr.adoc - include::D:\workspaceJava\cg-wm\target/generated-docs/history/TMP-STS-webmethods-template-fr.adoc.psv[]</entry>
</row>
</thead>
</tgroup>
</table>
<table frame="all" rowsep="1" colsep="1">
<title>Références</title>
<tgroup cols="5">
<colspec colname="col_1" colwidth="6.25*"/>
<colspec colname="col_2" colwidth="6.25*"/>
<colspec colname="col_3" colwidth="12.5*"/>
<colspec colname="col_4" colwidth="37.5*"/>
<colspec colname="col_5" colwidth="37.5*"/>
<thead>
<row>
<entry align="center" valign="top">Réf.</entry>
<entry align="center" valign="top">Ver.</entry>
<entry align="center" valign="top">Date</entry>
<entry align="left" valign="top">Document</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="center" valign="top"><simpara>[01]</simpara></entry>
<entry align="center" valign="top"><simpara>01.6</simpara></entry>
<entry align="center" valign="top"><simpara>27/04/2017</simpara></entry>
<entry align="left" valign="top"><simpara>DGE_V2_SFG_Spécifications_Fonctionnelles_Générales.docx</simpara></entry>
<entry align="left" valign="top"><simpara>Spécifications fonctionnelles générales du DGE V2</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>[02]</simpara></entry>
<entry align="center" valign="top"></entry>
<entry align="center" valign="top"><simpara>2018-08-16</simpara></entry>
<entry align="left" valign="top"><simpara>SAF-architecture.pdf</simpara></entry>
<entry align="left" valign="top"><simpara>Cadre d’architecture DGE V2, contenant notamment les noms des IS</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara><?asciidoc-pagebreak?></simpara>
<section xml:id="_introduction">
<title>Introduction</title>
<simpara>Ce document décrit&#8230;&#8203;</simpara>
</section>
<section xml:id="_contexte">
<title>Contexte</title>
<simpara>Inclure des schémas&#8230;&#8203; notamment ceux du dossier d&#8217;architecture qui concernent le domaine de ce document..</simpara>
</section>
<section xml:id="_packages_webmethods">
<title>Packages webMethods</title>
<section xml:id="_général">
<title>Général</title>
<section xml:id="_arborescence">
<title>Arborescence</title>
<simpara><emphasis role="strong">Arborescence principale :</emphasis></simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">docType/</emphasis> : définitions des documents, schéma et dictionnaires</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">structs/</emphasis> sous-structures des documents chapeaux</simpara>
</listitem>
<listitem>
<simpara>documents chapeau</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara><emphasis role="strong">adapter</emphasis>/ adaptateurs JDBC</simpara>
</listitem>
<listitem>
<simpara>*service/ *: services WM</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">pub/</emphasis> : ensemble des services publics d’un package. Un service public est un service qui peut être invoqué depuis un autre package. Il contient aussi les services chapeau de l’ensemble des services, qui est systématiquement un service flow même s’il ne contient qu’un service java.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">startup/</emphasis> : ensemble des services qui sont lancés lors du chargement du package</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">shutdown/</emphasis> : ensemble des services qui sont lancés lors de la désactivation du package</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">scheduled/</emphasis> : tâches schédulées</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">util/</emphasis> : ensemble des services internes au package qui ne peuvent pas être invoqués depuis un autre package</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">web/</emphasis> : répertoire contenant les web services du package</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<simpara><emphasis role="strong">Arborescence Tech</emphasis> :</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">connection/</emphasis> : répertoire contenant les connexions BDD</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">trigger/</emphasis> : répertoire contenant les triggers (de files JMS ou de files d’attente de l’UM)</simpara>
</listitem>
</itemizedlist>
<simpara>Le dossier racine nous le package porte le même nom que le package mais en camelCase.</simpara>
<simpara>Les dossiers sont en camelCase et n’ont pas de « s » final, pour se conformer à la convention java.</simpara>
<simpara>Les documents, symbolisant les définitions d’objets, commencent par une majuscules, les autres éléments par une minuscule.</simpara>
</section>
</section>
<section xml:id="_nomdupackage">
<title>NomDuPackage</title>
<simpara>Indiquer sur quel IS logique ce trouve le package et préciser son utilité.</simpara>
<simpara>Toute information générale sur le package doit se trouver dans ce paragraphe.</simpara>
<simpara>Les services liés à l’ordonnancement sont regroupés dans le package <emphasis role="strong">DgeOrdo</emphasis> qui est présent sur les IS « B2B-FIC-PE » et « B2B-FIC-PS ».</simpara>
<section xml:id="_web_services">
<title>Web Services</title>
<section xml:id="_nomdupackage_ws_nomduservice">
<title>nomDuPackage.ws:nomDuService</title>

</section>
</section>
<section xml:id="_services_publics">
<title>Services publics</title>
<section xml:id="_nomdupackage_pub_nomduservice">
<title>nomDuPackage.pub:nomDuService</title>
<section xml:id="_déclenchement">
<title>Déclenchement</title>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">dgeOrdo.triggers:handleASAP(FinProcessus)</emphasis></simpara>
</listitem>
</itemizedlist>
<simpara>Trigger dans <emphasis role="strong">DgeOrdoTech</emphasis> sur le document WM <emphasis role="strong">FinProcessus</emphasis> avec filtre champ <emphasis role="strong">Asap</emphasis> == OUI.</simpara>
<simpara>Le document est décrit dans la STS fonctions communes référencée.</simpara>
</section>
<section xml:id="_entrées_sorties">
<title>Entrées/sorties</title>
<informaltable frame="all" rowsep="1" colsep="1">
<tgroup cols="3">
<colspec colname="col_1" colwidth="33.3333*"/>
<colspec colname="col_2" colwidth="33.3333*"/>
<colspec colname="col_3" colwidth="33.3334*"/>
<tbody>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong"><emphasis role="strong">Entrées</emphasis></emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">IData ENTREE</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>entête de la demande d’ENTREE (DF_ENTREE)</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong"><emphasis role="strong">Entrées</emphasis></emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">String protocole</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>protocole de transmission parmi « FICHIER », « WEBSERVICE »</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong"><emphasis role="strong">Entrées</emphasis></emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">String fileName</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>nom du fichier si protocole == « FICHIER »</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong"><emphasis role="strong">Sorties</emphasis></emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>N/A</simpara></entry>
<entry align="left" valign="top"><simpara>N/A</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_algorithmes">
<title>Algorithmes</title>
<itemizedlist>
<listitem>
<simpara>Sélection en base de toute les lignes de SORTIE_TYPES avec :</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">DateGenPrevue</emphasis> &lt; sysdate</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Phase</emphasis> = ATTENTE</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Etat</emphasis> = ENCOURS</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
</section>
</section>
<section xml:id="_services_schédulés">
<title>Services schédulés</title>
<section xml:id="_nomdupackage_sched_nomduservice">
<title>nomDuPackage.sched:nomDuService</title>
<section xml:id="_déclenchement_2">
<title>déclenchement</title>
<simpara>Ce service est déclenché par une tâche schédulée sur l’IS « B2B-FIC-PS » qui ne doit pas permettre les invocations en parallèle.</simpara>
</section>
</section>
</section>
<section xml:id="_services_privés">
<title>Services privés</title>
<section xml:id="_nomdupackage_priv_nomduservice">
<title>nomDuPackage.priv:nomDuService</title>

</section>
</section>
<section xml:id="_documents_wm">
<title>Documents WM</title>
<section xml:id="_nomdupackage_docs_nomdudocument">
<title>nomDuPackage.docs:NomDuDocument</title>
<itemizedlist>
<listitem>
<simpara>Nature</simpara>
</listitem>
</itemizedlist>
<simpara><?asciidoc-pagebreak?></simpara>
</section>
</section>
</section>
</section>
<section xml:id="_jars">
<title>Jars</title>
<section xml:id="_fonctionnalité_mon_module_jar">
<title>Fonctionnalité (mon-module.jar)</title>
<simpara>Les services ayant besoin des fonctionnalités catalogue accèdent au cache via le module java <emphasis role="strong">dge-catalogue-client.jar</emphasis> qui contient les services d’accès aux données java décrites au paragraphe&#8230;&#8203;</simpara>
<section xml:id="_sous_fonctionnalité_mon_package">
<title>Sous-fonctionnalité (mon.package)</title>
<section xml:id="_maclasse_java">
<title>MaClasse.java</title>
<simpara><?asciidoc-pagebreak?></simpara>
</section>
</section>
</section>
</section>
<section xml:id="_annexes">
<title>Annexes</title>
<section xml:id="_marques_de_révision">
<title>Marques de révision</title>
<formalpara>
<title>Différences depuis le dernier tag</title>
<para>
<programlisting language="diff" linenumbering="unnumbered">Unresolved directive in subdocs/_closure-fr.adoc - include::D:\workspaceJava\cg-wm\target/generated-docs/history/TMP-STS-webmethods-template-fr.adoc.diff[]</programlisting>
</para>
</formalpara>
</section>
</section>
</article>